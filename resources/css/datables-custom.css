/* resources/css/datatables-custom.css */

/* Désactiver ou réinitialiser les styles globaux de DataTables */
div.dataTables_wrapper {
    /* Supprime les marges par défaut et s'assure que Tailwind prend le contrôle */
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
}

/* Cache les styles par défaut du thème DataTables.net-dt si importé */
/* Si vous ne voulez AUCUN style par défaut de DataTables, vous pouvez décommenter et ajuster */
/*
div.dataTables_wrapper .dataTables_length,
div.dataTables_wrapper .dataTables_filter,
div.dataTables_wrapper .dataTables_info,
div.dataTables_wrapper .dataTables_processing,
div.dataTables_wrapper .dataTables_paginate {
    font-family: inherit;
    font-size: inherit;
    color: inherit;
}
*/

/* Styles pour la barre de recherche (filter) */
div.dataTables_wrapper div.dataTables_filter label {
    display: flex; /* Utilise flexbox pour aligner le label et l'input */
    align-items: center;
    gap: 0.5rem; /* Espace entre "Search" et l'input */
    margin-bottom: 1rem; /* Marge sous la recherche */
    color: var(--tw-gray-700); /* Couleur de texte cohérente avec Tailwind */
}

div.dataTables_wrapper div.dataTables_filter input {
    /* Applique les styles Tailwind aux champs de recherche */
    @apply rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-700 shadow-theme-xs;
    @apply dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400;
}

/* Styles pour le sélecteur de nombre d'entrées (length) */
div.dataTables_wrapper div.dataTables_length label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    color: var(--tw-gray-700);
}

div.dataTables_wrapper div.dataTables_length select {
    /* Applique les styles Tailwind aux sélecteurs */
    @apply rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-700 shadow-theme-xs;
    @apply dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400;
}


/* Styles pour les informations (info) */
div.dataTables_wrapper div.dataTables_info {
    @apply text-sm text-gray-700 dark:text-gray-400;
    padding-top: 0.85em !important; /* Ajuste le padding pour alignement */
}

/* Styles pour la pagination */
div.dataTables_wrapper div.dataTables_paginate {
    @apply flex gap-2 justify-end; /* Utilise flexbox et gap pour les boutons de pagination */
    padding-top: 0.85em !important; /* Ajuste le padding pour alignement */
}

div.dataTables_wrapper div.dataTables_paginate .paginate_button {
    /* Styles de base pour tous les boutons de pagination */
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium border rounded-lg shadow-sm;
    @apply bg-white border-gray-300 text-gray-700;
    @apply hover:bg-gray-50 hover:text-gray-800;
    @apply dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-200;
    cursor: pointer;
    margin: 0 !important; /* Supprime les marges par défaut de DataTables */
    /* Assurez-vous que les états actif/désactivé sont gérés par les classes */
}

div.dataTables_wrapper div.dataTables_paginate .paginate_button.current,
div.dataTables_wrapper div.dataTables_paginate .paginate_button.current:hover {
    /* Styles pour le bouton de page actuelle */
    @apply bg-blue-600 text-white border-blue-600; /* Exemple de couleur active */
    cursor: default;
}

div.dataTables_wrapper div.dataTables_paginate .paginate_button.disabled,
div.dataTables_wrapper div.dataTables_paginate .paginate_button.disabled:hover,
div.dataTables_wrapper div.dataTables_paginate .paginate_button.disabled:active {
    /* Styles pour les boutons désactivés */
    @apply opacity-50 cursor-not-allowed;
    background: none !important;
    border: 1px solid var(--tw-gray-300) !important;
    color: var(--tw-gray-700) !important;
}

/* Styles pour le tri (flèches) - très spécifique */
/* C'est là que les conflits sont les plus fréquents et difficiles. */
/* Le mieux est souvent de désactiver les icônes par défaut de DataTables et d'utiliser FontAwesome ou des SVGs */

table.dataTable thead .sorting,
table.dataTable thead .sorting_asc,
table.dataTable thead .sorting_desc,
table.dataTable thead .sorting_asc_disabled,
table.dataTable thead .sorting_desc_disabled {
    background-image: none !important; /* Désactive les icônes de tri par défaut */
}

table.dataTable thead th.sorting,
table.dataTable thead th.sorting_asc,
table.dataTable thead th.sorting_desc {
    position: relative;
    padding-right: 25px !important; /* Laisse de la place pour votre icône FA */
}

table.dataTable thead th.sorting:after,
table.dataTable thead th.sorting_asc:after,
table.dataTable thead th.sorting_desc:after {
    position: absolute;
    top: 50%;
    right: 8px;
    margin-top: -6px;
    display: block;
    font-family: 'Font Awesome 5 Free'; /* Utilise Font Awesome */
    font-weight: 900; /* Pour les icônes Solid */
    font-size: 10px; /* Taille de l'icône */
    opacity: 0.4; /* Opacité par défaut */
}

table.dataTable thead th.sorting:after {
    content: "\f0dc"; /* Fa-sort */
}

table.dataTable thead th.sorting_asc:after {
    content: "\f0de"; /* Fa-sort-up */
    opacity: 1;
}

table.dataTable thead th.sorting_desc:after {
    content: "\f0dd"; /* Fa-sort-down */
    opacity: 1;
}

/* S'assurer que le focus n'introduit pas de styles indésirables */
div.dataTables_wrapper input:focus,
div.dataTables_wrapper select:focus,
div.dataTables_wrapper button:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* Masquer la ligne "Processing..." de DataTables si vous ne l'utilisez pas */
.dataTables_processing {
    display: none !important;
}